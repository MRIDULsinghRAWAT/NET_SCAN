{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mridul\\\\Desktop\\\\NET_SCAN\\\\frontend\\\\src\\\\components\\\\Graphview.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraphView = ({\n  graphData,\n  exposure,\n  attackChains\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [hoveredNode, setHoveredNode] = useState(null);\n  const [selectedEdge, setSelectedEdge] = useState(null);\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Simple force-directed graph simulation\n  useEffect(() => {\n    if (!graphData || !canvasRef.current) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    let animationId;\n\n    // Canvas setup\n    const width = canvas.width;\n    const height = canvas.height;\n\n    // Initialize node positions if not already done\n    const nodes = graphData.nodes || [];\n    const edges = graphData.edges || [];\n    if (!nodes.some(n => n.x !== undefined)) {\n      nodes.forEach((node, i) => {\n        node.x = Math.random() * width;\n        node.y = Math.random() * height;\n        node.vx = 0;\n        node.vy = 0;\n      });\n    }\n    const simulation = () => {\n      // Apply forces\n      nodes.forEach((node, i) => {\n        // Repulsion between nodes\n        nodes.forEach((other, j) => {\n          if (i !== j) {\n            const dx = node.x - other.x;\n            const dy = node.y - other.y;\n            const dist = Math.hypot(dx, dy) || 1;\n            const force = 100 / (dist * dist);\n            node.vx += dx / dist * force;\n            node.vy += dy / dist * force;\n          }\n        });\n\n        // Attraction to center\n        node.vx += (width / 2 - node.x) * 0.02;\n        node.vy += (height / 2 - node.y) * 0.02;\n\n        // Damping\n        node.vx *= 0.9;\n        node.vy *= 0.9;\n\n        // Update position\n        node.x += node.vx;\n        node.y += node.vy;\n\n        // Boundary conditions\n        if (node.x < 0) node.x = 0;\n        if (node.x > width) node.x = width;\n        if (node.y < 0) node.y = 0;\n        if (node.y > height) node.y = height;\n      });\n\n      // Clear canvas\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, width, height);\n\n      // Apply zoom and pan\n      ctx.save();\n      ctx.translate(pan.x, pan.y);\n      ctx.scale(zoom, zoom);\n\n      // Draw edges\n      edges.forEach(edge => {\n        const fromNode = nodes.find(n => n.id === edge.from);\n        const toNode = nodes.find(n => n.id === edge.to);\n        if (fromNode && toNode) {\n          ctx.strokeStyle = (selectedEdge === null || selectedEdge === void 0 ? void 0 : selectedEdge.id) === edge.id ? '#00FF00' : '#555555';\n          ctx.lineWidth = (selectedEdge === null || selectedEdge === void 0 ? void 0 : selectedEdge.id) === edge.id ? 3 : 1;\n          ctx.beginPath();\n          ctx.moveTo(fromNode.x, fromNode.y);\n          ctx.lineTo(toNode.x, toNode.y);\n          ctx.stroke();\n\n          // Arrow\n          const angle = Math.atan2(toNode.y - fromNode.y, toNode.x - fromNode.x);\n          const arrowSize = 10;\n          ctx.fillStyle = edge.type === 'lateral_movement' ? '#FF6B6B' : '#FFA500';\n          ctx.beginPath();\n          ctx.moveTo(toNode.x, toNode.y);\n          ctx.lineTo(toNode.x - arrowSize * Math.cos(angle - Math.PI / 6), toNode.y - arrowSize * Math.sin(angle - Math.PI / 6));\n          ctx.lineTo(toNode.x - arrowSize * Math.cos(angle + Math.PI / 6), toNode.y - arrowSize * Math.sin(angle + Math.PI / 6));\n          ctx.fill();\n        }\n      });\n\n      // Draw nodes\n      nodes.forEach(node => {\n        const isHovered = (hoveredNode === null || hoveredNode === void 0 ? void 0 : hoveredNode.id) === node.id;\n        const size = isHovered ? node.size * 1.5 : node.size;\n\n        // Node circle\n        ctx.fillStyle = node.color;\n        ctx.beginPath();\n        ctx.arc(node.x, node.y, size, 0, Math.PI * 2);\n        ctx.fill();\n\n        // Glow effect for critical nodes\n        if (node.risk === 'Critical') {\n          ctx.strokeStyle = 'rgba(220, 38, 38, 0.5)';\n          ctx.lineWidth = 3;\n          ctx.stroke();\n        }\n\n        // Label\n        if (isHovered) {\n          ctx.fillStyle = '#FFFFFF';\n          ctx.font = 'bold 12px Arial';\n          ctx.textAlign = 'center';\n          ctx.fillText(node.label.split('\\n')[0], node.x, node.y - size - 5);\n        }\n      });\n      ctx.restore();\n\n      // Continue animation\n      if (nodes.some(n => Math.abs(n.vx) > 0.1 || Math.abs(n.vy) > 0.1)) {\n        animationId = requestAnimationFrame(simulation);\n      }\n    };\n    simulation();\n\n    // Mouse events\n    const handleMouseMove = e => {\n      const rect = canvas.getBoundingClientRect();\n      const x = (e.clientX - rect.left - pan.x) / zoom;\n      const y = (e.clientY - rect.top - pan.y) / zoom;\n      let found = null;\n      for (let node of nodes) {\n        const dist = Math.hypot(x - node.x, y - node.y);\n        if (dist < node.size + 10) {\n          found = node;\n          break;\n        }\n      }\n      setHoveredNode(found);\n    };\n    canvas.addEventListener('mousemove', handleMouseMove);\n    return () => {\n      canvas.removeEventListener('mousemove', handleMouseMove);\n      cancelAnimationFrame(animationId);\n    };\n  }, [graphData, hoveredNode, selectedEdge, pan, zoom]);\n  const stats = (graphData === null || graphData === void 0 ? void 0 : graphData.statistics) || {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-full flex flex-col bg-black border border-red-900/40\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-red-900/30 p-4 bg-black/50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-red-500\",\n          children: \"ATTACK PATH GRAPH\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), exposure && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-6 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-3xl font-bold ${exposure.severity === 'CRITICAL' ? 'text-red-500' : exposure.severity === 'HIGH' ? 'text-orange-500' : 'text-yellow-500'}`,\n              children: exposure.exposure_score\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400\",\n              children: \"Exposure Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-lg font-bold ${exposure.severity === 'CRITICAL' ? 'text-red-500' : exposure.severity === 'HIGH' ? 'text-orange-500' : 'text-yellow-500'}`,\n              children: exposure.severity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400\",\n              children: \"Severity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-5 gap-2 text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-950/30 p-2 rounded border border-red-900/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-400 font-bold\",\n            children: stats.critical_services || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"Critical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-orange-950/30 p-2 rounded border border-orange-900/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-orange-400 font-bold\",\n            children: stats.high_risk_services || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"High Risk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-950/30 p-2 rounded border border-yellow-900/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-yellow-400 font-bold\",\n            children: stats.total_nodes || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"Services\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-950/30 p-2 rounded border border-green-900/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-green-400 font-bold\",\n            children: stats.lateral_movement_paths || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"Lateral Paths\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-950/30 p-2 rounded border border-blue-900/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-blue-400 font-bold\",\n            children: stats.total_edges || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"Connections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative overflow-hidden bg-black/80\",\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 1200,\n        height: 600,\n        className: \"w-full h-full cursor-crosshair\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-3 left-3 bg-black/80 border border-red-900/30 rounded p-3 text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-400 font-bold mb-2\",\n          children: \"Legend:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-red-600 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-300\",\n              children: \"Critical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-orange-600 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-300\",\n              children: \"High Risk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-yellow-600 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-300\",\n              children: \"Medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-green-600 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-300\",\n              children: \"Low\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), hoveredNode && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-3 right-3 bg-black/80 border border-green-900/30 rounded p-3 text-xs max-w-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-green-400 font-bold mb-2\",\n          children: hoveredNode.service\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 text-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-400\",\n              children: \"Port:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 20\n            }, this), \" \", hoveredNode.port]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-400\",\n              children: \"Risk:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 20\n            }, this), \" \", hoveredNode.risk]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), hoveredNode.vulnerabilities && hoveredNode.vulnerabilities.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-400 font-bold text-xs\",\n              children: \"Vulnerabilities:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this), hoveredNode.vulnerabilities.map((v, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-300\",\n              children: [\"\\u2022 \", v]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), attackChains && attackChains.chains && attackChains.chains.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-red-900/30 p-4 bg-black/50 max-h-32 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-bold text-red-400 mb-2\",\n        children: [\"Attack Chains (\", attackChains.total_chains, \"):\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1 text-xs\",\n        children: [attackChains.chains.slice(0, 5).map((chain, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: [chain.type.replace('_', ' '), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this), \" \", chain.from, \" \\u2192 \", chain.to]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }, this)), attackChains.chains.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 italic\",\n          children: [\"+\", attackChains.chains.length - 5, \" more chains...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n_s(GraphView, \"EtyXleE6dNJu/KjEA23sA9WPfZI=\");\n_c = GraphView;\nexport default GraphView;\nvar _c;\n$RefreshReg$(_c, \"GraphView\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","GraphView","graphData","exposure","attackChains","_s","canvasRef","hoveredNode","setHoveredNode","selectedEdge","setSelectedEdge","zoom","setZoom","pan","setPan","x","y","current","canvas","ctx","getContext","animationId","width","height","nodes","edges","some","n","undefined","forEach","node","i","Math","random","vx","vy","simulation","other","j","dx","dy","dist","hypot","force","fillStyle","fillRect","save","translate","scale","edge","fromNode","find","id","from","toNode","to","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","angle","atan2","arrowSize","type","cos","PI","sin","fill","isHovered","size","color","arc","risk","font","textAlign","fillText","label","split","restore","abs","requestAnimationFrame","handleMouseMove","e","rect","getBoundingClientRect","clientX","left","clientY","top","found","addEventListener","removeEventListener","cancelAnimationFrame","stats","statistics","className","children","fileName","_jsxFileName","lineNumber","columnNumber","severity","exposure_score","critical_services","high_risk_services","total_nodes","lateral_movement_paths","total_edges","ref","service","port","vulnerabilities","length","map","v","chains","total_chains","slice","chain","replace","_c","$RefreshReg$"],"sources":["C:/Users/Mridul/Desktop/NET_SCAN/frontend/src/components/Graphview.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\nconst GraphView = ({ graphData, exposure, attackChains }) => {\n  const canvasRef = useRef(null);\n  const [hoveredNode, setHoveredNode] = useState(null);\n  const [selectedEdge, setSelectedEdge] = useState(null);\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({ x: 0, y: 0 });\n\n  // Simple force-directed graph simulation\n  useEffect(() => {\n    if (!graphData || !canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    let animationId;\n\n    // Canvas setup\n    const width = canvas.width;\n    const height = canvas.height;\n\n    // Initialize node positions if not already done\n    const nodes = graphData.nodes || [];\n    const edges = graphData.edges || [];\n\n    if (!nodes.some(n => n.x !== undefined)) {\n      nodes.forEach((node, i) => {\n        node.x = Math.random() * width;\n        node.y = Math.random() * height;\n        node.vx = 0;\n        node.vy = 0;\n      });\n    }\n\n    const simulation = () => {\n      // Apply forces\n      nodes.forEach((node, i) => {\n        // Repulsion between nodes\n        nodes.forEach((other, j) => {\n          if (i !== j) {\n            const dx = node.x - other.x;\n            const dy = node.y - other.y;\n            const dist = Math.hypot(dx, dy) || 1;\n            const force = 100 / (dist * dist);\n            node.vx += (dx / dist) * force;\n            node.vy += (dy / dist) * force;\n          }\n        });\n\n        // Attraction to center\n        node.vx += (width / 2 - node.x) * 0.02;\n        node.vy += (height / 2 - node.y) * 0.02;\n\n        // Damping\n        node.vx *= 0.9;\n        node.vy *= 0.9;\n\n        // Update position\n        node.x += node.vx;\n        node.y += node.vy;\n\n        // Boundary conditions\n        if (node.x < 0) node.x = 0;\n        if (node.x > width) node.x = width;\n        if (node.y < 0) node.y = 0;\n        if (node.y > height) node.y = height;\n      });\n\n      // Clear canvas\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, width, height);\n\n      // Apply zoom and pan\n      ctx.save();\n      ctx.translate(pan.x, pan.y);\n      ctx.scale(zoom, zoom);\n\n      // Draw edges\n      edges.forEach((edge) => {\n        const fromNode = nodes.find(n => n.id === edge.from);\n        const toNode = nodes.find(n => n.id === edge.to);\n\n        if (fromNode && toNode) {\n          ctx.strokeStyle = selectedEdge?.id === edge.id ? '#00FF00' : '#555555';\n          ctx.lineWidth = selectedEdge?.id === edge.id ? 3 : 1;\n          ctx.beginPath();\n          ctx.moveTo(fromNode.x, fromNode.y);\n          ctx.lineTo(toNode.x, toNode.y);\n          ctx.stroke();\n\n          // Arrow\n          const angle = Math.atan2(toNode.y - fromNode.y, toNode.x - fromNode.x);\n          const arrowSize = 10;\n          ctx.fillStyle = edge.type === 'lateral_movement' ? '#FF6B6B' : '#FFA500';\n          ctx.beginPath();\n          ctx.moveTo(toNode.x, toNode.y);\n          ctx.lineTo(toNode.x - arrowSize * Math.cos(angle - Math.PI / 6), toNode.y - arrowSize * Math.sin(angle - Math.PI / 6));\n          ctx.lineTo(toNode.x - arrowSize * Math.cos(angle + Math.PI / 6), toNode.y - arrowSize * Math.sin(angle + Math.PI / 6));\n          ctx.fill();\n        }\n      });\n\n      // Draw nodes\n      nodes.forEach((node) => {\n        const isHovered = hoveredNode?.id === node.id;\n        const size = isHovered ? node.size * 1.5 : node.size;\n\n        // Node circle\n        ctx.fillStyle = node.color;\n        ctx.beginPath();\n        ctx.arc(node.x, node.y, size, 0, Math.PI * 2);\n        ctx.fill();\n\n        // Glow effect for critical nodes\n        if (node.risk === 'Critical') {\n          ctx.strokeStyle = 'rgba(220, 38, 38, 0.5)';\n          ctx.lineWidth = 3;\n          ctx.stroke();\n        }\n\n        // Label\n        if (isHovered) {\n          ctx.fillStyle = '#FFFFFF';\n          ctx.font = 'bold 12px Arial';\n          ctx.textAlign = 'center';\n          ctx.fillText(node.label.split('\\n')[0], node.x, node.y - size - 5);\n        }\n      });\n\n      ctx.restore();\n\n      // Continue animation\n      if (nodes.some(n => Math.abs(n.vx) > 0.1 || Math.abs(n.vy) > 0.1)) {\n        animationId = requestAnimationFrame(simulation);\n      }\n    };\n\n    simulation();\n\n    // Mouse events\n    const handleMouseMove = (e) => {\n      const rect = canvas.getBoundingClientRect();\n      const x = (e.clientX - rect.left - pan.x) / zoom;\n      const y = (e.clientY - rect.top - pan.y) / zoom;\n\n      let found = null;\n      for (let node of nodes) {\n        const dist = Math.hypot(x - node.x, y - node.y);\n        if (dist < node.size + 10) {\n          found = node;\n          break;\n        }\n      }\n      setHoveredNode(found);\n    };\n\n    canvas.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      canvas.removeEventListener('mousemove', handleMouseMove);\n      cancelAnimationFrame(animationId);\n    };\n  }, [graphData, hoveredNode, selectedEdge, pan, zoom]);\n\n  const stats = graphData?.statistics || {};\n\n  return (\n    <div className=\"w-full h-full flex flex-col bg-black border border-red-900/40\">\n      {/* Header */}\n      <div className=\"border-b border-red-900/30 p-4 bg-black/50\">\n        <div className=\"flex justify-between items-center mb-3\">\n          <h2 className=\"text-2xl font-bold text-red-500\">ATTACK PATH GRAPH</h2>\n          {exposure && (\n            <div className=\"flex gap-6 items-center\">\n              <div className=\"text-center\">\n                <div className={`text-3xl font-bold ${\n                  exposure.severity === 'CRITICAL' ? 'text-red-500' :\n                  exposure.severity === 'HIGH' ? 'text-orange-500' :\n                  'text-yellow-500'\n                }`}>\n                  {exposure.exposure_score}\n                </div>\n                <div className=\"text-xs text-gray-400\">Exposure Score</div>\n              </div>\n              <div className=\"text-center\">\n                <div className={`text-lg font-bold ${\n                  exposure.severity === 'CRITICAL' ? 'text-red-500' :\n                  exposure.severity === 'HIGH' ? 'text-orange-500' :\n                  'text-yellow-500'\n                }`}>\n                  {exposure.severity}\n                </div>\n                <div className=\"text-xs text-gray-400\">Severity</div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Stats Row */}\n        <div className=\"grid grid-cols-5 gap-2 text-xs\">\n          <div className=\"bg-red-950/30 p-2 rounded border border-red-900/30\">\n            <div className=\"text-red-400 font-bold\">{stats.critical_services || 0}</div>\n            <div className=\"text-gray-500\">Critical</div>\n          </div>\n          <div className=\"bg-orange-950/30 p-2 rounded border border-orange-900/30\">\n            <div className=\"text-orange-400 font-bold\">{stats.high_risk_services || 0}</div>\n            <div className=\"text-gray-500\">High Risk</div>\n          </div>\n          <div className=\"bg-yellow-950/30 p-2 rounded border border-yellow-900/30\">\n            <div className=\"text-yellow-400 font-bold\">{stats.total_nodes || 0}</div>\n            <div className=\"text-gray-500\">Services</div>\n          </div>\n          <div className=\"bg-green-950/30 p-2 rounded border border-green-900/30\">\n            <div className=\"text-green-400 font-bold\">{stats.lateral_movement_paths || 0}</div>\n            <div className=\"text-gray-500\">Lateral Paths</div>\n          </div>\n          <div className=\"bg-blue-950/30 p-2 rounded border border-blue-900/30\">\n            <div className=\"text-blue-400 font-bold\">{stats.total_edges || 0}</div>\n            <div className=\"text-gray-500\">Connections</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Canvas */}\n      <div className=\"flex-1 relative overflow-hidden bg-black/80\">\n        <canvas\n          ref={canvasRef}\n          width={1200}\n          height={600}\n          className=\"w-full h-full cursor-crosshair\"\n        />\n\n        {/* Legend */}\n        <div className=\"absolute bottom-3 left-3 bg-black/80 border border-red-900/30 rounded p-3 text-xs\">\n          <div className=\"text-red-400 font-bold mb-2\">Legend:</div>\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-red-600 rounded-full\"></div>\n              <span className=\"text-gray-300\">Critical</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-orange-600 rounded-full\"></div>\n              <span className=\"text-gray-300\">High Risk</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-yellow-600 rounded-full\"></div>\n              <span className=\"text-gray-300\">Medium</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-green-600 rounded-full\"></div>\n              <span className=\"text-gray-300\">Low</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Info Panel (Right Side) */}\n        {hoveredNode && (\n          <div className=\"absolute top-3 right-3 bg-black/80 border border-green-900/30 rounded p-3 text-xs max-w-xs\">\n            <div className=\"text-green-400 font-bold mb-2\">{hoveredNode.service}</div>\n            <div className=\"space-y-1 text-gray-300\">\n              <div><span className=\"text-green-400\">Port:</span> {hoveredNode.port}</div>\n              <div><span className=\"text-green-400\">Risk:</span> {hoveredNode.risk}</div>\n              {hoveredNode.vulnerabilities && hoveredNode.vulnerabilities.length > 0 && (\n                <div className=\"mt-2\">\n                  <div className=\"text-red-400 font-bold text-xs\">Vulnerabilities:</div>\n                  {hoveredNode.vulnerabilities.map((v, i) => (\n                    <div key={i} className=\"text-red-300\">• {v}</div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Attack Chains List */}\n      {attackChains && attackChains.chains && attackChains.chains.length > 0 && (\n        <div className=\"border-t border-red-900/30 p-4 bg-black/50 max-h-32 overflow-y-auto\">\n          <div className=\"text-sm font-bold text-red-400 mb-2\">Attack Chains ({attackChains.total_chains}):</div>\n          <div className=\"space-y-1 text-xs\">\n            {attackChains.chains.slice(0, 5).map((chain, i) => (\n              <div key={i} className=\"text-gray-300\">\n                <span className=\"text-red-400\">{chain.type.replace('_', ' ')}:</span> {chain.from} → {chain.to}\n              </div>\n            ))}\n            {attackChains.chains.length > 5 && (\n              <div className=\"text-gray-500 italic\">+{attackChains.chains.length - 5} more chains...</div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GraphView;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,SAAS,GAAGA,CAAC;EAAEC,SAAS;EAAEC,QAAQ;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAC3D,MAAMC,SAAS,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACe,GAAG,EAAEC,MAAM,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;;EAE9C;EACApB,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,SAAS,IAAI,CAACI,SAAS,CAACW,OAAO,EAAE;IAEtC,MAAMC,MAAM,GAAGZ,SAAS,CAACW,OAAO;IAChC,MAAME,GAAG,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;IACnC,IAAIC,WAAW;;IAEf;IACA,MAAMC,KAAK,GAAGJ,MAAM,CAACI,KAAK;IAC1B,MAAMC,MAAM,GAAGL,MAAM,CAACK,MAAM;;IAE5B;IACA,MAAMC,KAAK,GAAGtB,SAAS,CAACsB,KAAK,IAAI,EAAE;IACnC,MAAMC,KAAK,GAAGvB,SAAS,CAACuB,KAAK,IAAI,EAAE;IAEnC,IAAI,CAACD,KAAK,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACZ,CAAC,KAAKa,SAAS,CAAC,EAAE;MACvCJ,KAAK,CAACK,OAAO,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;QACzBD,IAAI,CAACf,CAAC,GAAGiB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGX,KAAK;QAC9BQ,IAAI,CAACd,CAAC,GAAGgB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGV,MAAM;QAC/BO,IAAI,CAACI,EAAE,GAAG,CAAC;QACXJ,IAAI,CAACK,EAAE,GAAG,CAAC;MACb,CAAC,CAAC;IACJ;IAEA,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvB;MACAZ,KAAK,CAACK,OAAO,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;QACzB;QACAP,KAAK,CAACK,OAAO,CAAC,CAACQ,KAAK,EAAEC,CAAC,KAAK;UAC1B,IAAIP,CAAC,KAAKO,CAAC,EAAE;YACX,MAAMC,EAAE,GAAGT,IAAI,CAACf,CAAC,GAAGsB,KAAK,CAACtB,CAAC;YAC3B,MAAMyB,EAAE,GAAGV,IAAI,CAACd,CAAC,GAAGqB,KAAK,CAACrB,CAAC;YAC3B,MAAMyB,IAAI,GAAGT,IAAI,CAACU,KAAK,CAACH,EAAE,EAAEC,EAAE,CAAC,IAAI,CAAC;YACpC,MAAMG,KAAK,GAAG,GAAG,IAAIF,IAAI,GAAGA,IAAI,CAAC;YACjCX,IAAI,CAACI,EAAE,IAAKK,EAAE,GAAGE,IAAI,GAAIE,KAAK;YAC9Bb,IAAI,CAACK,EAAE,IAAKK,EAAE,GAAGC,IAAI,GAAIE,KAAK;UAChC;QACF,CAAC,CAAC;;QAEF;QACAb,IAAI,CAACI,EAAE,IAAI,CAACZ,KAAK,GAAG,CAAC,GAAGQ,IAAI,CAACf,CAAC,IAAI,IAAI;QACtCe,IAAI,CAACK,EAAE,IAAI,CAACZ,MAAM,GAAG,CAAC,GAAGO,IAAI,CAACd,CAAC,IAAI,IAAI;;QAEvC;QACAc,IAAI,CAACI,EAAE,IAAI,GAAG;QACdJ,IAAI,CAACK,EAAE,IAAI,GAAG;;QAEd;QACAL,IAAI,CAACf,CAAC,IAAIe,IAAI,CAACI,EAAE;QACjBJ,IAAI,CAACd,CAAC,IAAIc,IAAI,CAACK,EAAE;;QAEjB;QACA,IAAIL,IAAI,CAACf,CAAC,GAAG,CAAC,EAAEe,IAAI,CAACf,CAAC,GAAG,CAAC;QAC1B,IAAIe,IAAI,CAACf,CAAC,GAAGO,KAAK,EAAEQ,IAAI,CAACf,CAAC,GAAGO,KAAK;QAClC,IAAIQ,IAAI,CAACd,CAAC,GAAG,CAAC,EAAEc,IAAI,CAACd,CAAC,GAAG,CAAC;QAC1B,IAAIc,IAAI,CAACd,CAAC,GAAGO,MAAM,EAAEO,IAAI,CAACd,CAAC,GAAGO,MAAM;MACtC,CAAC,CAAC;;MAEF;MACAJ,GAAG,CAACyB,SAAS,GAAG,SAAS;MACzBzB,GAAG,CAAC0B,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEvB,KAAK,EAAEC,MAAM,CAAC;;MAEjC;MACAJ,GAAG,CAAC2B,IAAI,CAAC,CAAC;MACV3B,GAAG,CAAC4B,SAAS,CAAClC,GAAG,CAACE,CAAC,EAAEF,GAAG,CAACG,CAAC,CAAC;MAC3BG,GAAG,CAAC6B,KAAK,CAACrC,IAAI,EAAEA,IAAI,CAAC;;MAErB;MACAc,KAAK,CAACI,OAAO,CAAEoB,IAAI,IAAK;QACtB,MAAMC,QAAQ,GAAG1B,KAAK,CAAC2B,IAAI,CAACxB,CAAC,IAAIA,CAAC,CAACyB,EAAE,KAAKH,IAAI,CAACI,IAAI,CAAC;QACpD,MAAMC,MAAM,GAAG9B,KAAK,CAAC2B,IAAI,CAACxB,CAAC,IAAIA,CAAC,CAACyB,EAAE,KAAKH,IAAI,CAACM,EAAE,CAAC;QAEhD,IAAIL,QAAQ,IAAII,MAAM,EAAE;UACtBnC,GAAG,CAACqC,WAAW,GAAG,CAAA/C,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE2C,EAAE,MAAKH,IAAI,CAACG,EAAE,GAAG,SAAS,GAAG,SAAS;UACtEjC,GAAG,CAACsC,SAAS,GAAG,CAAAhD,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE2C,EAAE,MAAKH,IAAI,CAACG,EAAE,GAAG,CAAC,GAAG,CAAC;UACpDjC,GAAG,CAACuC,SAAS,CAAC,CAAC;UACfvC,GAAG,CAACwC,MAAM,CAACT,QAAQ,CAACnC,CAAC,EAAEmC,QAAQ,CAAClC,CAAC,CAAC;UAClCG,GAAG,CAACyC,MAAM,CAACN,MAAM,CAACvC,CAAC,EAAEuC,MAAM,CAACtC,CAAC,CAAC;UAC9BG,GAAG,CAAC0C,MAAM,CAAC,CAAC;;UAEZ;UACA,MAAMC,KAAK,GAAG9B,IAAI,CAAC+B,KAAK,CAACT,MAAM,CAACtC,CAAC,GAAGkC,QAAQ,CAAClC,CAAC,EAAEsC,MAAM,CAACvC,CAAC,GAAGmC,QAAQ,CAACnC,CAAC,CAAC;UACtE,MAAMiD,SAAS,GAAG,EAAE;UACpB7C,GAAG,CAACyB,SAAS,GAAGK,IAAI,CAACgB,IAAI,KAAK,kBAAkB,GAAG,SAAS,GAAG,SAAS;UACxE9C,GAAG,CAACuC,SAAS,CAAC,CAAC;UACfvC,GAAG,CAACwC,MAAM,CAACL,MAAM,CAACvC,CAAC,EAAEuC,MAAM,CAACtC,CAAC,CAAC;UAC9BG,GAAG,CAACyC,MAAM,CAACN,MAAM,CAACvC,CAAC,GAAGiD,SAAS,GAAGhC,IAAI,CAACkC,GAAG,CAACJ,KAAK,GAAG9B,IAAI,CAACmC,EAAE,GAAG,CAAC,CAAC,EAAEb,MAAM,CAACtC,CAAC,GAAGgD,SAAS,GAAGhC,IAAI,CAACoC,GAAG,CAACN,KAAK,GAAG9B,IAAI,CAACmC,EAAE,GAAG,CAAC,CAAC,CAAC;UACtHhD,GAAG,CAACyC,MAAM,CAACN,MAAM,CAACvC,CAAC,GAAGiD,SAAS,GAAGhC,IAAI,CAACkC,GAAG,CAACJ,KAAK,GAAG9B,IAAI,CAACmC,EAAE,GAAG,CAAC,CAAC,EAAEb,MAAM,CAACtC,CAAC,GAAGgD,SAAS,GAAGhC,IAAI,CAACoC,GAAG,CAACN,KAAK,GAAG9B,IAAI,CAACmC,EAAE,GAAG,CAAC,CAAC,CAAC;UACtHhD,GAAG,CAACkD,IAAI,CAAC,CAAC;QACZ;MACF,CAAC,CAAC;;MAEF;MACA7C,KAAK,CAACK,OAAO,CAAEC,IAAI,IAAK;QACtB,MAAMwC,SAAS,GAAG,CAAA/D,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE6C,EAAE,MAAKtB,IAAI,CAACsB,EAAE;QAC7C,MAAMmB,IAAI,GAAGD,SAAS,GAAGxC,IAAI,CAACyC,IAAI,GAAG,GAAG,GAAGzC,IAAI,CAACyC,IAAI;;QAEpD;QACApD,GAAG,CAACyB,SAAS,GAAGd,IAAI,CAAC0C,KAAK;QAC1BrD,GAAG,CAACuC,SAAS,CAAC,CAAC;QACfvC,GAAG,CAACsD,GAAG,CAAC3C,IAAI,CAACf,CAAC,EAAEe,IAAI,CAACd,CAAC,EAAEuD,IAAI,EAAE,CAAC,EAAEvC,IAAI,CAACmC,EAAE,GAAG,CAAC,CAAC;QAC7ChD,GAAG,CAACkD,IAAI,CAAC,CAAC;;QAEV;QACA,IAAIvC,IAAI,CAAC4C,IAAI,KAAK,UAAU,EAAE;UAC5BvD,GAAG,CAACqC,WAAW,GAAG,wBAAwB;UAC1CrC,GAAG,CAACsC,SAAS,GAAG,CAAC;UACjBtC,GAAG,CAAC0C,MAAM,CAAC,CAAC;QACd;;QAEA;QACA,IAAIS,SAAS,EAAE;UACbnD,GAAG,CAACyB,SAAS,GAAG,SAAS;UACzBzB,GAAG,CAACwD,IAAI,GAAG,iBAAiB;UAC5BxD,GAAG,CAACyD,SAAS,GAAG,QAAQ;UACxBzD,GAAG,CAAC0D,QAAQ,CAAC/C,IAAI,CAACgD,KAAK,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAEjD,IAAI,CAACf,CAAC,EAAEe,IAAI,CAACd,CAAC,GAAGuD,IAAI,GAAG,CAAC,CAAC;QACpE;MACF,CAAC,CAAC;MAEFpD,GAAG,CAAC6D,OAAO,CAAC,CAAC;;MAEb;MACA,IAAIxD,KAAK,CAACE,IAAI,CAACC,CAAC,IAAIK,IAAI,CAACiD,GAAG,CAACtD,CAAC,CAACO,EAAE,CAAC,GAAG,GAAG,IAAIF,IAAI,CAACiD,GAAG,CAACtD,CAAC,CAACQ,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE;QACjEd,WAAW,GAAG6D,qBAAqB,CAAC9C,UAAU,CAAC;MACjD;IACF,CAAC;IAEDA,UAAU,CAAC,CAAC;;IAEZ;IACA,MAAM+C,eAAe,GAAIC,CAAC,IAAK;MAC7B,MAAMC,IAAI,GAAGnE,MAAM,CAACoE,qBAAqB,CAAC,CAAC;MAC3C,MAAMvE,CAAC,GAAG,CAACqE,CAAC,CAACG,OAAO,GAAGF,IAAI,CAACG,IAAI,GAAG3E,GAAG,CAACE,CAAC,IAAIJ,IAAI;MAChD,MAAMK,CAAC,GAAG,CAACoE,CAAC,CAACK,OAAO,GAAGJ,IAAI,CAACK,GAAG,GAAG7E,GAAG,CAACG,CAAC,IAAIL,IAAI;MAE/C,IAAIgF,KAAK,GAAG,IAAI;MAChB,KAAK,IAAI7D,IAAI,IAAIN,KAAK,EAAE;QACtB,MAAMiB,IAAI,GAAGT,IAAI,CAACU,KAAK,CAAC3B,CAAC,GAAGe,IAAI,CAACf,CAAC,EAAEC,CAAC,GAAGc,IAAI,CAACd,CAAC,CAAC;QAC/C,IAAIyB,IAAI,GAAGX,IAAI,CAACyC,IAAI,GAAG,EAAE,EAAE;UACzBoB,KAAK,GAAG7D,IAAI;UACZ;QACF;MACF;MACAtB,cAAc,CAACmF,KAAK,CAAC;IACvB,CAAC;IAEDzE,MAAM,CAAC0E,gBAAgB,CAAC,WAAW,EAAET,eAAe,CAAC;IAErD,OAAO,MAAM;MACXjE,MAAM,CAAC2E,mBAAmB,CAAC,WAAW,EAAEV,eAAe,CAAC;MACxDW,oBAAoB,CAACzE,WAAW,CAAC;IACnC,CAAC;EACH,CAAC,EAAE,CAACnB,SAAS,EAAEK,WAAW,EAAEE,YAAY,EAAEI,GAAG,EAAEF,IAAI,CAAC,CAAC;EAErD,MAAMoF,KAAK,GAAG,CAAA7F,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE8F,UAAU,KAAI,CAAC,CAAC;EAEzC,oBACEhG,OAAA;IAAKiG,SAAS,EAAC,+DAA+D;IAAAC,QAAA,gBAE5ElG,OAAA;MAAKiG,SAAS,EAAC,4CAA4C;MAAAC,QAAA,gBACzDlG,OAAA;QAAKiG,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDlG,OAAA;UAAIiG,SAAS,EAAC,iCAAiC;UAAAC,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACrEnG,QAAQ,iBACPH,OAAA;UAAKiG,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtClG,OAAA;YAAKiG,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BlG,OAAA;cAAKiG,SAAS,EAAE,sBACd9F,QAAQ,CAACoG,QAAQ,KAAK,UAAU,GAAG,cAAc,GACjDpG,QAAQ,CAACoG,QAAQ,KAAK,MAAM,GAAG,iBAAiB,GAChD,iBAAiB,EAChB;cAAAL,QAAA,EACA/F,QAAQ,CAACqG;YAAc;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,eACNtG,OAAA;cAAKiG,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eACNtG,OAAA;YAAKiG,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BlG,OAAA;cAAKiG,SAAS,EAAE,qBACd9F,QAAQ,CAACoG,QAAQ,KAAK,UAAU,GAAG,cAAc,GACjDpG,QAAQ,CAACoG,QAAQ,KAAK,MAAM,GAAG,iBAAiB,GAChD,iBAAiB,EAChB;cAAAL,QAAA,EACA/F,QAAQ,CAACoG;YAAQ;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf,CAAC,eACNtG,OAAA;cAAKiG,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNtG,OAAA;QAAKiG,SAAS,EAAC,gCAAgC;QAAAC,QAAA,gBAC7ClG,OAAA;UAAKiG,SAAS,EAAC,oDAAoD;UAAAC,QAAA,gBACjElG,OAAA;YAAKiG,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAEH,KAAK,CAACU,iBAAiB,IAAI;UAAC;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5EtG,OAAA;YAAKiG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eACNtG,OAAA;UAAKiG,SAAS,EAAC,0DAA0D;UAAAC,QAAA,gBACvElG,OAAA;YAAKiG,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EAAEH,KAAK,CAACW,kBAAkB,IAAI;UAAC;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChFtG,OAAA;YAAKiG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,eACNtG,OAAA;UAAKiG,SAAS,EAAC,0DAA0D;UAAAC,QAAA,gBACvElG,OAAA;YAAKiG,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EAAEH,KAAK,CAACY,WAAW,IAAI;UAAC;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACzEtG,OAAA;YAAKiG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eACNtG,OAAA;UAAKiG,SAAS,EAAC,wDAAwD;UAAAC,QAAA,gBACrElG,OAAA;YAAKiG,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAEH,KAAK,CAACa,sBAAsB,IAAI;UAAC;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnFtG,OAAA;YAAKiG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eACNtG,OAAA;UAAKiG,SAAS,EAAC,sDAAsD;UAAAC,QAAA,gBACnElG,OAAA;YAAKiG,SAAS,EAAC,yBAAyB;YAAAC,QAAA,EAAEH,KAAK,CAACc,WAAW,IAAI;UAAC;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvEtG,OAAA;YAAKiG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNtG,OAAA;MAAKiG,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1DlG,OAAA;QACE8G,GAAG,EAAExG,SAAU;QACfgB,KAAK,EAAE,IAAK;QACZC,MAAM,EAAE,GAAI;QACZ0E,SAAS,EAAC;MAAgC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eAGFtG,OAAA;QAAKiG,SAAS,EAAC,mFAAmF;QAAAC,QAAA,gBAChGlG,OAAA;UAAKiG,SAAS,EAAC,6BAA6B;UAAAC,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC1DtG,OAAA;UAAKiG,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBlG,OAAA;YAAKiG,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtClG,OAAA;cAAKiG,SAAS,EAAC;YAAiC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACvDtG,OAAA;cAAMiG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC,eACNtG,OAAA;YAAKiG,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtClG,OAAA;cAAKiG,SAAS,EAAC;YAAoC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1DtG,OAAA;cAAMiG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC,eACNtG,OAAA;YAAKiG,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtClG,OAAA;cAAKiG,SAAS,EAAC;YAAoC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1DtG,OAAA;cAAMiG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC,eACNtG,OAAA;YAAKiG,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtClG,OAAA;cAAKiG,SAAS,EAAC;YAAmC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzDtG,OAAA;cAAMiG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGL/F,WAAW,iBACVP,OAAA;QAAKiG,SAAS,EAAC,4FAA4F;QAAAC,QAAA,gBACzGlG,OAAA;UAAKiG,SAAS,EAAC,+BAA+B;UAAAC,QAAA,EAAE3F,WAAW,CAACwG;QAAO;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC1EtG,OAAA;UAAKiG,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtClG,OAAA;YAAAkG,QAAA,gBAAKlG,OAAA;cAAMiG,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC,EAAC/F,WAAW,CAACyG,IAAI;UAAA;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3EtG,OAAA;YAAAkG,QAAA,gBAAKlG,OAAA;cAAMiG,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC,EAAC/F,WAAW,CAACmE,IAAI;UAAA;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC1E/F,WAAW,CAAC0G,eAAe,IAAI1G,WAAW,CAAC0G,eAAe,CAACC,MAAM,GAAG,CAAC,iBACpElH,OAAA;YAAKiG,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBlG,OAAA;cAAKiG,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EACrE/F,WAAW,CAAC0G,eAAe,CAACE,GAAG,CAAC,CAACC,CAAC,EAAErF,CAAC,kBACpC/B,OAAA;cAAaiG,SAAS,EAAC,cAAc;cAAAC,QAAA,GAAC,SAAE,EAACkB,CAAC;YAAA,GAAhCrF,CAAC;cAAAoE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAqC,CACjD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLlG,YAAY,IAAIA,YAAY,CAACiH,MAAM,IAAIjH,YAAY,CAACiH,MAAM,CAACH,MAAM,GAAG,CAAC,iBACpElH,OAAA;MAAKiG,SAAS,EAAC,qEAAqE;MAAAC,QAAA,gBAClFlG,OAAA;QAAKiG,SAAS,EAAC,qCAAqC;QAAAC,QAAA,GAAC,iBAAe,EAAC9F,YAAY,CAACkH,YAAY,EAAC,IAAE;MAAA;QAAAnB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACvGtG,OAAA;QAAKiG,SAAS,EAAC,mBAAmB;QAAAC,QAAA,GAC/B9F,YAAY,CAACiH,MAAM,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACJ,GAAG,CAAC,CAACK,KAAK,EAAEzF,CAAC,kBAC5C/B,OAAA;UAAaiG,SAAS,EAAC,eAAe;UAAAC,QAAA,gBACpClG,OAAA;YAAMiG,SAAS,EAAC,cAAc;YAAAC,QAAA,GAAEsB,KAAK,CAACvD,IAAI,CAACwD,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAC,GAAC;UAAA;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,KAAC,EAACkB,KAAK,CAACnE,IAAI,EAAC,UAAG,EAACmE,KAAK,CAACjE,EAAE;QAAA,GADtFxB,CAAC;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEN,CACN,CAAC,EACDlG,YAAY,CAACiH,MAAM,CAACH,MAAM,GAAG,CAAC,iBAC7BlH,OAAA;UAAKiG,SAAS,EAAC,sBAAsB;UAAAC,QAAA,GAAC,GAAC,EAAC9F,YAAY,CAACiH,MAAM,CAACH,MAAM,GAAG,CAAC,EAAC,iBAAe;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAC5F;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACjG,EAAA,CAnSIJ,SAAS;AAAAyH,EAAA,GAATzH,SAAS;AAqSf,eAAeA,SAAS;AAAC,IAAAyH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}