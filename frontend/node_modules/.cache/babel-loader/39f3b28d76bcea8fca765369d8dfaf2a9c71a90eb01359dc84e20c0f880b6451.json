{"ast":null,"code":"import axios from 'axios';\n\n// Flask backend runs on port 5000\nconst API_BASE_URL = 'http://127.0.0.1:5000';\n\n/**\n * Start a new scan with given parameters.\n * POST /api/start-scan\n */\nexport const startScan = async ({\n  target,\n  start,\n  end,\n  threads\n}) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/api/start-scan`, {\n      target,\n      start: Number(start),\n      end: Number(end),\n      threads: Number(threads)\n    }, {\n      timeout: 120000\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error starting scan:\", error);\n    throw error;\n  }\n};\n\n/**\n * Get the last saved scan results (GET).\n * GET /api/start-scan\n */\nexport const getScanResults = async target => {\n  try {\n    // If a target is provided, include it as a query param so backend\n    // can return per-target results (e.g. /api/start-scan?target=1.2.3.4)\n    const url = target ? `${API_BASE_URL}/api/start-scan?target=${encodeURIComponent(target)}` : `${API_BASE_URL}/api/start-scan`;\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching scan results:\", error);\n    return null;\n  }\n};\n\n/**\n * Get current scan status.\n * GET /api/scan-status\n */\nexport const getScanStatus = async () => {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/api/scan-status`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching scan status:\", error);\n    return null;\n  }\n};\n\n/**\n * Build the SSE stream URL for a target.\n */\nexport const getScanStreamUrl = target => {\n  return `${API_BASE_URL}/api/scan-stream?target=${encodeURIComponent(target)}`;\n};\n\n// Legacy export for backwards compatibility\nexport const getRiskReport = getScanResults;","map":{"version":3,"names":["axios","API_BASE_URL","startScan","target","start","end","threads","response","post","Number","timeout","data","error","console","getScanResults","url","encodeURIComponent","get","getScanStatus","getScanStreamUrl","getRiskReport"],"sources":["C:/Users/Mridul/Desktop/NET_SCAN/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Flask backend runs on port 5000\nconst API_BASE_URL = 'http://127.0.0.1:5000';\n\n/**\n * Start a new scan with given parameters.\n * POST /api/start-scan\n */\nexport const startScan = async ({ target, start, end, threads }) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/api/start-scan`, {\n      target,\n      start: Number(start),\n      end: Number(end),\n      threads: Number(threads),\n    }, { timeout: 120000 });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error starting scan:\", error);\n    throw error;\n  }\n};\n\n/**\n * Get the last saved scan results (GET).\n * GET /api/start-scan\n */\nexport const getScanResults = async (target) => {\n  try {\n    // If a target is provided, include it as a query param so backend\n    // can return per-target results (e.g. /api/start-scan?target=1.2.3.4)\n    const url = target ? `${API_BASE_URL}/api/start-scan?target=${encodeURIComponent(target)}` : `${API_BASE_URL}/api/start-scan`;\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching scan results:\", error);\n    return null;\n  }\n};\n\n/**\n * Get current scan status.\n * GET /api/scan-status\n */\nexport const getScanStatus = async () => {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/api/scan-status`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching scan status:\", error);\n    return null;\n  }\n};\n\n/**\n * Build the SSE stream URL for a target.\n */\nexport const getScanStreamUrl = (target) => {\n  return `${API_BASE_URL}/api/scan-stream?target=${encodeURIComponent(target)}`;\n};\n\n// Legacy export for backwards compatibility\nexport const getRiskReport = getScanResults;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,YAAY,GAAG,uBAAuB;;AAE5C;AACA;AACA;AACA;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAO;EAAEC,MAAM;EAAEC,KAAK;EAAEC,GAAG;EAAEC;AAAQ,CAAC,KAAK;EAClE,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,GAAGP,YAAY,iBAAiB,EAAE;MAClEE,MAAM;MACNC,KAAK,EAAEK,MAAM,CAACL,KAAK,CAAC;MACpBC,GAAG,EAAEI,MAAM,CAACJ,GAAG,CAAC;MAChBC,OAAO,EAAEG,MAAM,CAACH,OAAO;IACzB,CAAC,EAAE;MAAEI,OAAO,EAAE;IAAO,CAAC,CAAC;IACvB,OAAOH,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAME,cAAc,GAAG,MAAOX,MAAM,IAAK;EAC9C,IAAI;IACF;IACA;IACA,MAAMY,GAAG,GAAGZ,MAAM,GAAG,GAAGF,YAAY,0BAA0Be,kBAAkB,CAACb,MAAM,CAAC,EAAE,GAAG,GAAGF,YAAY,iBAAiB;IAC7H,MAAMM,QAAQ,GAAG,MAAMP,KAAK,CAACiB,GAAG,CAACF,GAAG,CAAC;IACrC,OAAOR,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMM,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAI;IACF,MAAMX,QAAQ,GAAG,MAAMP,KAAK,CAACiB,GAAG,CAAC,GAAGhB,YAAY,kBAAkB,CAAC;IACnE,OAAOM,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMO,gBAAgB,GAAIhB,MAAM,IAAK;EAC1C,OAAO,GAAGF,YAAY,2BAA2Be,kBAAkB,CAACb,MAAM,CAAC,EAAE;AAC/E,CAAC;;AAED;AACA,OAAO,MAAMiB,aAAa,GAAGN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}